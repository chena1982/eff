<!DOCTYPE HTML>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/> 

    <link rel="stylesheet" href="../jqwidgets-ver2.9.3/jqwidgets/styles/jqx.base.css" type="text/css"/>

    <script type="text/javascript" src="../jqwidgets-ver2.9.3/scripts/gettheme.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/scripts/message-center.js"></script>    

    <script type="text/javascript" src="../jqwidgets-ver2.9.3/scripts/jquery-1.8.3.min.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/scripts/jquery-1.10.1.min.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/scripts/json2.js"></script> 
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/scripts/knockout-2.2.1.js"></script>

    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxcore.js"></script>


    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxdata.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxbuttons.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxscrollbar.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxmenu.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxtabs.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxpanel.js"></script>        
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxcheckbox.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxsplitter.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxtabs.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxlistbox.js"></script>
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxdropdownlist.js"></script>    
    <script type="text/javascript" src="../jqwidgets-ver2.9.3/jqwidgets/jqxtree.js"></script>

    <script type="text/javascript">



        var messageCenter = new MessageCenter();

        $(document).ready(function () {

            var theme = getGUITheme();

            //$("#jqxDockPanel").jqxDockPanel({ width: 200, height: 600, theme: theme });

 

            var data = [
            {
                "id": "12",
                "text": "File",
                "parentid": "-1",
                "subMenuWidth": '250px'
            },
            {
                "text": "View",
                "id": "1",
                "parentid": "-1",
                "subMenuWidth": '250px'
            },
            {
                "id": "2",
                "parentid": "1",
                "text": "Hot Chocolate"
            },
            {
                "id": "3",
                "parentid": "1",
                "text": "Peppermint Hot Chocolate"
            },
            {
                "id": "4",
                "parentid": "1",
                "text": "Salted Caramel Hot Chocolate"
            },
            {
                "id": "5",
                "parentid": "1",
                "text": "White Hot Chocolate"
            },
            {
                "id": "6",
                "text": "Edit",
                "parentid": "-1",
                "subMenuWidth": '200px'
            },
            {
                "id": "7",
                "parentid": "6",
                "text": "Caffe Americano"
            },
            {
                "id": "8",
                "text": "Caffe Latte",
                "parentid": "6"
            },
            {
                "id": "9",
                "text": "Caffe Mocha",
                "parentid": "6"
            },
            {
                "id": "10",
                "text": "Cappuccino",
                "parentid": "6"
            },
            {
                "id": "11",
                "text": "Pumpkin Spice Latte",
                "parentid": "6"
            },
            {
                "id": "13",
                "text": "Caffe Vanilla Frappuccino",
                "parentid": "12"
            },
            {
                "id": "15",
                "text": "450 calories",
                "parentid": "13"
            },
            {
                "id": "16",
                "text": "16g fat",
                "parentid": "13"
            },
            {
                "id": "17",
                "text": "13g protein",
                "parentid": "13"
            },
            {
                "id": "14",
                "text": "Caffe Vanilla Frappuccino Light",
                "parentid": "12"
            }];

            // prepare the data
            var source =
            {
                datatype: 'json',
                datafields: [
                    { name: 'id' },
                    { name: 'parentid' },
                    { name: 'text' },
                    { name: 'subMenuWidth' }
                ],
                id: 'id',
                localdata: data
            };

            //create data adapter.
            var dataAdapter = new $.jqx.dataAdapter(source);
            //perform Data Binding.
            dataAdapter.dataBind();
            //get the menu items. The first parameter is the item's id. The second parameter is the parent item's id. The 'items' parameter represents the sub items collection name.
            //Each jqxTree item has a 'label' property, but in the JSON data, we have a 'text' field. The last parameter specifies the mapping between the 'text' and 'label' fields.  
            var records = dataAdapter.getRecordsHierarchy('id', 'parentid', 'items', [{ name: 'text', map: 'label'}]);
            
            $("#Menubar").jqxMenu({ source: records, theme: theme });

                  
            
            $('#splitter1').jqxSplitter({ theme: theme, width: '100%', height: '100%', orientation: 'horizontal', panels: [{ size: '100%' }, { size: 300, min: 260 }] });
            $('#splitter2').jqxSplitter({ theme: theme, height: '100%', panels: [{ size: '100%' }, { size: 380, min: 260 }] });
            $('#splitter3').jqxSplitter({ theme: theme, height: '100%', panels: [{ size: '50%' }, { size: '50%' }] });

            $("#MainAreaTabar").jqxTabs({ theme: theme, width: '100%', height: '100%' });
            $("#InspectorAreaTabar").jqxTabs({ theme: theme, width: '100%', height: '100%' });
            $("#HierarchyAreaTabar").jqxTabs({ theme: theme, width: '100%', height: '100%' });
            $("#ProjectAreaTabar").jqxTabs({ theme: theme, width: '100%', height: '100%' });


            var renderModeSource = [ "Textured", 
                                     "Wireframe",
                                     "Tex-Wire",
                                     "Render Paths",
                                     "Lightmap Resolution" ];

            $("#RenderMode").jqxDropDownList({ source: renderModeSource, selectedIndex: 0, width: 160, height: 20, autoDropDownHeight: true });

            $('#Menubar').bind('itemclick', function (event) {
                var clickedItem = event.args;
                var event = { "object_type": "MenuItem",
                              "object_name": clickedItem["textContent"],
                              "event": "click" };

                sendMessageToCpp(JSON.stringify(event));
            });


            /*var GameObjectNode = function (name, items) {
                this.label = name;
                this.items = ko.observableArray(items);
                this.enabled = ko.observable(true);

                this.addItem = function () {
                    if (this.items().length < 4) {
                        this.items.push("New Item");
                    }
                    else if (this.items().length == 4) {
                        this.items.push("Last Item");
                        this.enabled(false);
                    }
                }
            }


            var hierarchyTreeViewModel = {
                gameObject: [ new GameObjectNode("Annabelle", ["Arnie", "Anders", "Apple"]),
                              new GameObjectNode("Bertie", ["Boutros-Boutros", "Brianna", "Barbie", "Bee-bop"]),
                              new GameObjectNode("Charles", ["Cayenne", "Cleopatra"])
                            ],
                disabled: ko.observable(false)
            };

            ko.applyBindings(hierarchyTreeViewModel);*/

            function initTree(treeName, treeNodes) {
                var treeSource =
                {
                    datatype: 'json',
                    datafields: [
                        { name: 'id' },
                        { name: 'parentid' },
                        { name: 'name' }
                    ],
                    id: 'id',
                    localdata: treeNodes
                };

                var dataAdapter = new $.jqx.dataAdapter(treeSource);
                dataAdapter.dataBind();
                var records = dataAdapter.getRecordsHierarchy('id', 'parentid', 'items', [{ name: 'name', map: 'label'}]);
                $('#' + treeName).jqxTree({ theme: theme, source: records });
            };




            var gameOjbects = [ {
                                    "id": "1",
                                    "name": "GameObject",
                                    "parentid": "-1"
                                }
                              ];

            initTree('HierarchyTree', gameOjbects);

            sendMessageToCpp("Loaded");
        });
    </script>

    <style type="text/css">
        html, body 
        {
            height: 100%;
            width: 100%;
            margin: 0px;
            padding: 0px;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0);
        }
    </style>

</head>



<body class='default'>



    <div id='Menubar'>
    </div>


    <div id='splitter1'>
        <div>
            <div id='splitter2'>
                <div id='MainArea'>
                    <div id='MainAreaTabar'>
                        <ul>
                            <li>Scene</li>
                            <li>Game</li>
                        </ul>
                        <div id='Scene'>
                            <div id='Toolbar'>
                                <div id='RenderMode'>
                                </div>    
                            </div>
                        </div>
                        <div id='Game'>
                        </div>                                              
                    </div>                             
                </div>
                <div id='InspectorArea'>
                    <div id='InspectorAreaTabar'>
                        <ul>
                            <li>Inspector</li>
                        </ul>
                        <div id='Inspector'>
                        </div>
                    </div>                     
                </div>
            </div>
        </div>
        <div>
            <div id='splitter3'>
                <div id='HierarchyArea'>
                    <div id='HierarchyAreaTabar'>
                        <ul>
                            <li>Hierarchy</li>
                        </ul>
                        <div id='Hierarchy'>
                            <div id='HierarchyTree'>
                            </div>                            
                        </div>
                    </div>                  
                </div>
                <div id='ProjectArea'>
                    <div id='ProjectAreaTabar'>
                        <ul>
                            <li>Project</li>
                        </ul>
                        <div id='Project'>
                        </div>
                    </div>                    
                </div>
            </div>
        </div>
    </div>

</body>

</html>
